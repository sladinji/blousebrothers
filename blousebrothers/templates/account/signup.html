{% extends "account/base.html" %}

{% load account %}
{% load socialaccount %}
{% load i18n %}
{% load crispy_forms_tags %}
{% load staticfiles %}
{% block main_header %}
{% endblock main_header %}
{% block header %}
{% endblock header %}

{% block main_container_class %}{% endblock %}
{% block title %}{% trans "Signup" %}{% endblock title %}

{% block content%}
  <form action="{% url 'account_signup' %}" id="signup_form" method="post">
    {{ form.non_field_errors }}
    {% csrf_token %}
    {{ form.email.errors }}
    {{ form.email }}
    {{ form.username.errors }}
    {{ form.username }}
    {{ form.password1.errors }}
    {{ form.password1 }}
    {{ form.password2.errors }}
    {{ form.password2 }}
    <button class="btn">Créer mon compte</button>
    <br><br>
    {% get_providers as socialaccount_providers %}
    {% if socialaccount_providers %}
    {% include "partials/social_connect.html" with process="login" %}
    {% include "socialaccount/snippets/login_extra.html" %}
    {% endif %}
    <br><br>
  </form>
{% endblock content %}

{% block extra_slides %}
    <!-- slide 2-->
    <div class="slide2 slide container">
      <div class="row">
	<div class="col-xs-12 col-md-6 bg_left tcenter">
	  <div class="centrage">
	    <h3>Indépendance</h3>
	    <span class="txt_current">
	      Les externes paient des gens qui paient des internes. <br>
	      Et si on supprimait ce qui ne sert à rien ? <br>
	      Nous n'avons plus besoin des boîtes de conf.
	    </span>
	  </div>
	</div>
	<div class="col-xs-12 col-md-6 bg_right tcenter">
	  <div class="centrage">
	    <h3>Autonomie</h3>
	    <span class="txt_current">
	      Tu es interne ? Dépose tes dossiers sur la plateforme.<br>
	      Tu es externe ? Entraîne toi selon ton programme.<br>
	      Les dossiers sont corrigés et les questions sont les bienvenues.
	    </span>
	  </div> <!-- centrage -->
	</div> <!-- col 6-->
      </div> <!-- row -->
    </div> <!-- slide2 -->

    <!-- slide 3-->
    <div class="slide3 slide container">
      <div class="row">
	<div class="col-md-6 bg_left tcenter">
	  <div class="centrage">
	    <h3>Feedback</h3>
	    <span class="txt_current">
	      Les conférenciers et leurs dossiers sont notés par les étudiants.<br>
	      La réputation des conférenciers sur la plateforme dépend de cette notation.<br>
	      Les étudiants peuvent se baser sur ces notes pour faire leur choix.
	    </span>
	  </div>
	</div>
	<div class="col-md-6 bg_right tcenter">
	  <div class="centrage">
	    <h3>Equité</h3>
	    <span class="txt_current">
	      Les conférenciers gardent 90% de leurs ventes.<br>
	      Ils peuvent aussi offrir leurs dossiers, ou donner leurs gains à une cause qui leur tient à coeur.<br>
	      Pourquoi engraisser des boîtes de conf ? Sérieusement ?
	    </span>
	  </div> <!-- centrage -->
	</div> <!-- col 6-->
      </div> <!-- row -->
    </div> <!-- slide3 -->

<div class="signup slide4 slide container">
</div>
<div class="text-center">
<img src="https://www.mangopay.com/terms/powered-by-mangopay.png" height="40px" />
</div>
{% endblock extra_slides%}




{% block onbodyload %}

$( document ).ready(function() {

	$('.slide').css('min-height',$(window).height()+'px');
	$('.slide2').css('line-height', $(window).height()+'px');
	$('.slide2 .bg_right').height($(window).height());
	$('.slide2 .bg_left').height($(window).height());
	$('.slide3').css('line-height', $(window).height()+'px');
	$('.slide3 .bg_right').height($(window).height());
	$('.slide3 .bg_left').height($(window).height());
});


function move_value(scrolled, start, end, value_start, value_end){
    if (scrolled < start)
	return value_start;
    else if (scrolled > end)
	return value_end;

    end = end-start;
    scrolled = scrolled-start;
    start = 0;
    if (value_end < value_start){ // on descend
	return ((1-scrolled/end) * (value_start - value_end));
    }
    else{
	return ((scrolled/end) * (value_end - value_start));
    }
}

function alertModal(msg){
    $('#myModal .modal-body p').html(msg);
    $("#myModal").modal('show');

}

{% endblock %}
